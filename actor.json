{
  "name": "owner-revenue-scraper",
  "title": "Guesty Owners \u2192 Owner Revenue (last month)",
  "buildTag": "latest",
  "dockerfile": "./Dockerfile",
  "input": {
    "title": "Config",
    "type": "object",
    "properties": {
      "loginUrl": {
        "type": "string",
        "description": "Guesty login page (admin) \u2014 ex: https://app.guesty.com/login"
      },
      "ownersUrl": {
        "type": "string",
        "description": "Owners list with 'vista previa' buttons \u2014 ex: https://app.guesty.com/contact/owners"
      },
      "email": {
        "type": "string"
      },
      "password": {
        "type": "string"
      },
      "n8nWebhookUrl": {
        "type": "string",
        "description": "n8n Cloud Webhook (POST)"
      },
      "timezone": {
        "type": "string",
        "default": "America/Argentina/Buenos_Aires"
      },
      "selectors": {
        "type": "object",
        "description": "Override CSS/XPath selectors if needed",
        "properties": {
          "ownerRow": {
            "type": "string",
            "default": "xpath=//tr[.//button[contains(translate(., 'VISTA PREVIA', 'vista previa'),'vista previa')]]"
          },
          "ownerPreviewBtn": {
            "type": "string",
            "default": "xpath=.//button[contains(translate(., 'VISTA PREVIA', 'vista previa'),'vista previa')]"
          },
          "ownerNameCell": {
            "type": "string",
            "default": "xpath=.//td[1]"
          },
          "propertyRow": {
            "type": "string",
            "default": "css=[data-testid='property-row'], .property-card"
          },
          "propertyNickname": {
            "type": "string",
            "default": "css=.nickname, [data-testid='nickname']"
          },
          "monthHeader": {
            "type": "string",
            "default": "css=[data-testid='month-label'], header .month-label, .calendar-header"
          },
          "prevMonthBtn": {
            "type": "string",
            "default": "css=button[aria-label*='Anterior'], button[aria-label*='Previous'], .btn-prev"
          },
          "ownerRevenueLabel": {
            "type": "string",
            "default": "text=Ingresos estimados del propietario"
          }
        }
      }
    },
    "required": [
      "loginUrl",
      "ownersUrl",
      "email",
      "password",
      "n8nWebhookUrl"
    ]
  }
}